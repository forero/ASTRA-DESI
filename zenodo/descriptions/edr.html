<html>
  <body>
    <h1>ASTRA-DESI Early Data Release (EDR)</h1>
    <p>
      This record bundles the ASTRA-DESI early data products for the 20 DESI rosettes (zones 00–19).
      Every catalogue is delivered as a compressed FITS binary table (<code>.fits.gz</code>) whose
      first extension (HDU 1) contains the data. File headers store the keywords
      <code>RELEASE=EDR</code> and the corresponding <code>ZONE</code> label for quick checks.
    </p>

    <hr>

    <h2>Directory layout</h2>
    <p>The archive preserves the NERSC production tree. Top-level folders contain:</p>
    <ul>
      <li><strong>raw/</strong> – merged real and random catalogues per zone.</li>
      <li><strong>classification/</strong> – neighbour count summaries per tracer and random iteration.</li>
      <li><strong>probabilities/</strong> – web-type membership probabilities derived from the classification counts.</li>
      <li><strong>pairs/</strong> – sparse list of target pairs used when counting neighbours.</li>
      <li><strong>groups/</strong> – FoF group catalogues for objects classified as filaments (one file per zone).</li>
    </ul>

    <hr>

    <h2>Naming conventions</h2>
    <ul>
      <li><code>raw/zone_XX.fits.gz</code> – zone index <code>XX</code> is zero-padded (00–19).</li>
      <li><code>classification/zone_XX_classified.fits.gz</code> – combined tracer summary for the zone.</li>
      <li><code>probabilities/zone_XX_probability.fits.gz</code> – per-object web-type probabilities.</li>
      <li><code>pairs/zone_XX_pairs.fits.gz</code> – neighbour pairs for the zone.</li>
      <li><code>groups/zone_XX_groups_fof_filament.fits.gz</code> – filament FoF groups restricted to data targets.</li>
    </ul>

    <hr>

    <h2>Column reference</h2>
    <h3>Raw catalogues (<code>raw/*.fits.gz</code>)</h3>
    <table>
      <thead>
        <tr><th>Column</th><th>Type</th><th>Description</th></tr>
      </thead>
      <tbody>
        <tr><td>TARGETID</td><td>int64</td><td>DESI target identifier.</td></tr>
        <tr><td>RA</td><td>float64</td><td>Right ascension in degrees.</td></tr>
        <tr><td>DEC</td><td>float64</td><td>Declination in degrees.</td></tr>
        <tr><td>Z</td><td>float64</td><td>Spectroscopic redshift.</td></tr>
        <tr><td>XCART, YCART, ZCART</td><td>float64</td><td>Comoving Cartesian coordinates (Mpc) computed with the Planck18 cosmology.</td></tr>
        <tr><td>TRACERTYPE</td><td>string</td><td>Base tracer with suffix <code>_DATA</code> or <code>_RAND</code> (BGS_ANY, ELG, LRG, QSO).</td></tr>
        <tr><td>RANDITER</td><td>int32</td><td>-1 for real objects, otherwise the random iteration index (0–99).</td></tr>
      </tbody>
    </table>
    <p>Each raw file merges all tracers for its zone. Random catalogues mirror the data counts for every tracer and random iteration.</p>

    <h3>Classification catalogues (<code>classification/*.fits.gz</code>)</h3>
    <table>
      <thead>
        <tr><th>Column</th><th>Type</th><th>Description</th></tr>
      </thead>
      <tbody>
        <tr><td>TARGETID</td><td>int64</td><td>Identifier of the central object.</td></tr>
        <tr><td>RANDITER</td><td>int32</td><td>-1 for data rows, otherwise the random catalogue index.</td></tr>
        <tr><td>ISDATA</td><td>bool</td><td><code>True</code> for data rows; <code>False</code> for random iterations.</td></tr>
        <tr><td>NDATA</td><td>int32</td><td>Number of neighbour pairs built from data tracers for this target.</td></tr>
        <tr><td>NRAND</td><td>int32</td><td>Number of neighbour pairs contributed by random tracers.</td></tr>
        <tr><td>TRACERTYPE</td><td>string</td><td>Tracer family (BGS_ANY, ELG, LRG, QSO).</td></tr>
      </tbody>
    </table>

    <h3>Probability catalogues (<code>probabilities/*.fits.gz</code>)</h3>
    <table>
      <thead>
        <tr><th>Column</th><th>Type</th><th>Description</th></tr>
      </thead>
      <tbody>
        <tr><td>TARGETID</td><td>int64</td><td>Identifier of the data object (random entries are excluded).</td></tr>
        <tr><td>TRACERTYPE</td><td>string</td><td>Tracer family.</td></tr>
        <tr><td>PVOID</td><td>float32</td><td>Probability of the object being a void class.</td></tr>
        <tr><td>PSHEET</td><td>float32</td><td>Probability of the sheet class.</td></tr>
        <tr><td>PFILAMENT</td><td>float32</td><td>Probability of the filament class.</td></tr>
        <tr><td>PKNOT</td><td>float32</td><td>Probability of the knot class.</td></tr>
      </tbody>
    </table>

    <h3>Pair catalogues (<code>pairs/*.fits.gz</code>)</h3>
    <table>
      <thead>
        <tr><th>Column</th><th>Type</th><th>Description</th></tr>
      </thead>
      <tbody>
        <tr><td>TARGETID1</td><td>int64</td><td>Central object in the neighbour pair.</td></tr>
        <tr><td>TARGETID2</td><td>int64</td><td>Neighbour contributing to the count.</td></tr>
        <tr><td>RANDITER</td><td>int32</td><td>-1 for data pairs, otherwise random catalogue index.</td></tr>
      </tbody>
    </table>

    <h3>Group catalogues (<code>groups/*.fits.gz</code>)</h3>
    <table>
      <thead>
        <tr><th>Column</th><th>Type</th><th>Description</th></tr>
      </thead>
      <tbody>
        <tr><td>TRACERTYPE</td><td>string</td><td>Tracer family with <code>_DATA</code>/<code>_RAND</code> suffix.</td></tr>
        <tr><td>TARGETID</td><td>int64</td><td>Member identifier.</td></tr>
        <tr><td>RANDITER</td><td>int32</td><td>-1 for data members, otherwise random catalogue index.</td></tr>
        <tr><td>WEBTYPE</td><td>string</td><td>Cosmic web class. For the EDR groups this is always <code>filament</code>.</td></tr>
        <tr><td>GROUPID</td><td>int32</td><td>FoF group label unique within each (zone, tracer).</td></tr>
        <tr><td>NPTS</td><td>int32</td><td>Number of members in the group.</td></tr>
        <tr><td>XCM, YCM, ZCM</td><td>float64</td><td>Group barycentre in comoving Cartesian coordinates (Mpc).</td></tr>
        <tr><td>A, B, C</td><td>float64</td><td>Semi-axis lengths of the inertia ellipsoid (Mpc) ordered A≥B≥C.</td></tr>
      </tbody>
    </table>
    <p>The group finder is executed separately for each tracer. The EDR deliverable contains only data groups (<code>RANDITER=-1</code>).</p>

    <hr>
    
    <h2>Using the catalogues</h2>
    <ul>
      <li>All FITS tables are compressed with <code>gzip</code>.</li>
      <li>Random catalogues use <code>RANDITER</code> values 0–99; filtering on <code>RANDITER &gt;= 0</code> isolates the random iterations.</li>
      <li>The Cartesian coordinates assume the Planck18 cosmology provided by <code>astropy.cosmology.Planck18</code>.</li>
    </ul>
  </body>
</html>